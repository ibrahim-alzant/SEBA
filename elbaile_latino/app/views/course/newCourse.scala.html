@(courseForm : Form[controllers.course.CourseController.CourseForm],danceStyles: List[models.common.DanceStyle],userName: String)

@import helper._
@main("New course",userName) {
<div class="panel  panel-success">
	<div class="panel-heading">Offer new course</div>
	<div class="panel-body">
<form class="form-horizontal" action="/course/post/" method="post">
	@if(courseForm.hasGlobalErrors){
	<div class="alert alert-error">
		@for(validationError <- courseForm.globalErrors){ <a class="close"
			data-dismiss="alert">×</a> @validationError.message }
	</div>
	}
	<fieldset>
		<div class="form-group">
			<label for="title" class="col-lg-2 control-label">Title of course</label>
			<div class="col-lg-6">
				<input class="form-control" id="title" name="title"
					placeholder="Title of course" type="text" value="Salsa Course 1">
			</div>
		</div>
		<div class="form-group">
			<label for="startDate" class="col-lg-2 control-label">Start date</label>
			<div class="col-lg-6">
				<input class="form-control" id="startDate" name="startDate"
					placeholder="Start date" type="text" value="30.06.2015">
			</div>
		</div>
		<div class="form-group">
			<label for="location" class="col-lg-2 control-label">Location</label>
			<div class="col-lg-6">
				<input class="form-control" id="location" name="Location"
				placeholder="Location" type="text" value="TUM, Garching, Forschungszentrum">
			</div>
		</div>
		<div class="form-group">
			<label for="map" class="col-lg-2 control-label"></label>
			<div class="col-lg-6">
				<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&libraries=places"></script>
				<script>
						var map;
						var markers = [];
						function initialize() {


						var haightAshbury = new google.maps.LatLng(48.2628618,11.6681671);
						var mapOptions = {
						zoom: 16,
						center: haightAshbury,
						mapTypeId: google.maps.MapTypeId.TERRAIN
						};
						map = new google.maps.Map(document.getElementById('map-canvas'),
						mapOptions);

						  // Create the search box and link it to the UI element.
						  var input = (document.getElementById('location'));
						//  map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);

						  var searchBox = new google.maps.places.SearchBox((input));

						  // [START region_getplaces]
						  // Listen for the event fired when the user selects an item from the
						  // pick list. Retrieve the matching places for that item.
						  // This event listener will call addMarker() when the map is clicked.
						  google.maps.event.addListener(map, 'click', function(event) {
						    //deleteMarkers();
						   // searchBox.value = event.latLng;
							addMarker(event.latLng);
						  });


						  google.maps.event.addListener(searchBox, 'places_changed', function() {
							var places = searchBox.getPlaces();

							if (places.length == 0) {
							  return;
							}
							for (var i = 0, marker; marker = markers[i]; i++) {
							  marker.setMap(null);
							}

							// For each place, get the icon, place name, and location.
							markers = [];
							var bounds = new google.maps.LatLngBounds();
							for (var i = 0, place; place = places[i]; i++) {
							  var image = {
								url: place.icon,
								size: new google.maps.Size(71, 71),
								origin: new google.maps.Point(0, 0),
								anchor: new google.maps.Point(17, 34),
								scaledSize: new google.maps.Size(25, 25)
							  };

							  // Create a marker for each place.
							  var marker = new google.maps.Marker({
								map: map,
								icon: image,
								title: place.name,
								position: place.geometry.location
							  });

							  markers.push(marker);

							  bounds.extend(place.geometry.location);
							}

							map.fitBounds(bounds);
						  });
						  // [END region_getplaces]

						  // Bias the SearchBox results towards places that are within the bounds of the
						  // current map's viewport.
						  google.maps.event.addListener(map, 'bounds_changed', function() {
							var bounds = map.getBounds();
							searchBox.setBounds(bounds);
						  });
						}

						function addMarker(location) {
						deleteMarkers();
						  var marker = new google.maps.Marker({
							position: location,
							map: map
						  });
						  markers.push(marker);
						}

						function deleteMarkers() {
						  clearMarkers();
						  markers = [];
						}
						// Removes the markers from the map, but keeps them in the array.
						function clearMarkers() {
						  setAllMap(null);
						}

						function setAllMap(map) {
						for (var i = 0; i < markers.length; i++) {
						markers[i].setMap(map);
						}
						}
						google.maps.event.addDomListener(window, 'load', initialize);

						</script>
				<div id="map-canvas" style="width:530px;height:300px;"></div>
			</div>
		</div>
		<div class="form-group">
			<label for="numberOfClasses" class="col-lg-2 control-label">Number of classes</label>
			<div class="col-lg-6">
				<input class="form-control" id="numberOfClasses" name="numberOfClasses"
					placeholder="Number of classes" type="text" value="15">
			</div>
		</div>
		<div class="form-group">
			<label for="participantFee" class="col-lg-2 control-label">Participant Fee</label>
			<div class="col-lg-6">
				<input class="form-control" id="participantFee" name="Participant Fee"
				placeholder="Participant Fee" type="text" value="150">
			</div>
		</div>
		<div class="form-group">
			<label for="maxNumberOfParticipants" class="col-lg-2 control-label">Max Number Of Participants</label>
			<div class="col-lg-6">
				<input class="form-control" id="maxNumberOfParticipants" name="maxNumberOfParticipants"
					placeholder="Max Number Of Participants" type="text" value="20">
			</div>
		</div>
		<div class="form-group">
			<label for="numberOfParticipants" class="col-lg-2 control-label">Number Of Participants</label>
			<div class="col-lg-6">
				<input class="form-control" id="numberOfParticipants" name="numberOfParticipants"
				placeholder="Number Of Participants" type="text" value="0" readonly>
			</div>
		</div>
		<div class="form-group">
			<label for="language" class="col-lg-2 control-label">Language</label>
			<div class="col-lg-6">
				<input class="form-control" id="language" name="language"
					placeholder="Language" type="text" value="English">
			</div>
		</div>
		<div class="form-group">
      <label for="select" class="col-lg-2 control-label">Dance Style</label>
      <div class="col-lg-2">
        <select class="form-control" id="danceStyle" name="danceStyle">
          @for(danceStyle <- danceStyles){
          	<option>@danceStyle.danceStyleName</option>
          }          
        </select>
      </div>
    </div>
		<div class="form-group">
			<label for="danceLevel" class="col-lg-2 control-label">Dance Level</label>
			<div class="col-lg-6">
				<input class="form-control" id="danceLevel" name="danceLevel"
					placeholder="Dance Level" type="text" value="Basic">
			</div>
		</div>
		<div class="form-group">
			<label for="status" class="col-lg-2 control-label">Status of course</label>
			<div class="col-lg-6">
				<input class="form-control" id="status" name="status"
					placeholder="Status of course" type="text" value="open">
			</div>
		</div>
		<div class="form-group">
			<label for="picture" class="col-lg-2 control-label">Picture</label>
			<div class="col-lg-6">
				<input class="form-control" id="pictureURL" name="pictureURL"
				placeholder="Insert image URL" type="text" onkeyup="onImageURLChange()" onchange="onImageURLChange()">
				<script>
					function onImageURLChange(){var urlInput = (document.getElementById('pictureURL'));var imageInput = (document.getElementById('imgContainer')); imageInput.src=urlInput.value;}
				</script>
			</div>
		</div>
		<div class="form-group">
			<label class="col-lg-2 control-label"></label>
			<div class="col-lg-6">
				<img id="imgContainer" src="@routes.Assets.at("images/class.jpg")" height="300" width="530">
			</div>
		</div>
		<div class="form-group">
			<label for="video" class="col-lg-2 control-label">Video</label>
			<div class="col-lg-6">
				<input class="form-control" id="videoURL" name="videoURL"
				placeholder="Insert MP4 video URL" type="text" onkeyup="onVideoURLChange()" onchange="onVideoURLChange()">
				<script>
					function onVideoURLChange(){var videoUrlInput = (document.getElementById('videoURL'));var videoInput = (document.getElementById('videoSource')); videoInput.src=videoUrlInput.value;}
				</script>
			</div>
		</div>
		<div class="form-group">
			<label for="video" class="col-lg-2 control-label"></label>
			<div class="col-lg-6">
				<video id="videoSource" width="530" controls>
					<source src="@routes.Assets.at("videos/video.mp4")" type="video/mp4">
				</video>
			</div>
		</div>
	</fieldset>	
        <button type="submit" class="btn btn-primary">Submit</button>
        <a class="btn btn-primary" href="/teacher/@userName">Cancel</a></button>
</form>
</div>
</div>
	
}