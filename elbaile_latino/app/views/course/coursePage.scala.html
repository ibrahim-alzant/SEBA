@(course : models.common.course.Course,userName: String, isEditable : Boolean)

@import helper._

@main(course.title + " Details",userName) {
			<div class="panel  panel-success">
			<div class="panel-heading">@course.title</div>
				<div class="panel-body">
				@if(isEditable == true){
				<form class="form-horizontal" action="/course/post/" method="post">}else{
				<form class="form-horizontal">}
				<fieldset>
				<div class="form-group" style="margin-top: 20px;">
					<label for="startDate" class="col-lg-2 control-label">Start date</label>
					<div class="col-lg-6">
						<input class="form-control" id="startDate" name="startDate" @if(!isEditable) {readonly}
						placeholder="Start date" type="text" value="@course.startDate">
					</div>
				</div>
				<div class="form-group">
					<label for="location" class="col-lg-2 control-label">Location</label>
					<div class="col-lg-6">
						<input id="location" class="form-control" type="text" placeholder="Search location Box"
						value="@course.location" @if(!isEditable) {readonly}>
					</div>
				</div>
				<div class="form-group">
					<label for="map" class="col-lg-2 control-label"></label>
					<div class="col-lg-6">
						<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&libraries=places"></script>
						<script>
						var map;
						var markers = [];
						function initialize() {


						var haightAshbury = new google.maps.LatLng(48.2628618,11.6681671);
						var mapOptions = {
						zoom: 16,
						center: haightAshbury,
						mapTypeId: google.maps.MapTypeId.TERRAIN
						};
						map = new google.maps.Map(document.getElementById('map-canvas'),
						mapOptions);

						  // Create the search box and link it to the UI element.
						  var input = (document.getElementById('location'));
						//  map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);

						  var searchBox = new google.maps.places.SearchBox((input));

						  // [START region_getplaces]
						  // Listen for the event fired when the user selects an item from the
						  // pick list. Retrieve the matching places for that item.
						  // This event listener will call addMarker() when the map is clicked.
						  google.maps.event.addListener(map, 'click', function(event) {
						    //deleteMarkers();
						   // searchBox.value = event.latLng;
							addMarker(event.latLng);
						  });


						  google.maps.event.addListener(searchBox, 'places_changed', function() {
							var places = searchBox.getPlaces();

							if (places.length == 0) {
							  return;
							}
							for (var i = 0, marker; marker = markers[i]; i++) {
							  marker.setMap(null);
							}

							// For each place, get the icon, place name, and location.
							markers = [];
							var bounds = new google.maps.LatLngBounds();
							for (var i = 0, place; place = places[i]; i++) {
							  var image = {
								url: place.icon,
								size: new google.maps.Size(71, 71),
								origin: new google.maps.Point(0, 0),
								anchor: new google.maps.Point(17, 34),
								scaledSize: new google.maps.Size(25, 25)
							  };

							  // Create a marker for each place.
							  var marker = new google.maps.Marker({
								map: map,
								icon: image,
								title: place.name,
								position: place.geometry.location
							  });

							  markers.push(marker);

							  bounds.extend(place.geometry.location);
							}

							map.fitBounds(bounds);
						  });
						  // [END region_getplaces]

						  // Bias the SearchBox results towards places that are within the bounds of the
						  // current map's viewport.
						  google.maps.event.addListener(map, 'bounds_changed', function() {
							var bounds = map.getBounds();
							searchBox.setBounds(bounds);
						  });
						}

						function addMarker(location) {
						deleteMarkers();
						  var marker = new google.maps.Marker({
							position: location,
							map: map
						  });
						  markers.push(marker);
						}

						function deleteMarkers() {
						  clearMarkers();
						  markers = [];
						}
						// Removes the markers from the map, but keeps them in the array.
						function clearMarkers() {
						  setAllMap(null);
						}

						function setAllMap(map) {
						for (var i = 0; i < markers.length; i++) {
						markers[i].setMap(map);
						}
						}
						google.maps.event.addDomListener(window, 'load', initialize);

						</script>
						<div id="map-canvas" style="width:530px;height:300px;"></div>
					</div>
				</div>
				<div class="form-group">
					<label for="numberOfClasses" class="col-lg-2 control-label">Number of classes</label>
					<div class="col-lg-6">
						<input class="form-control" id="numberOfClasses" name="Number of classes" @if(!isEditable) {readonly}
						placeholder="Number of classes" type="text" value="15">
					</div>
				</div>
				<div class="form-group">
					<label for="participantFee" class="col-lg-2 control-label">Participant Fee</label>
					<div class="col-lg-6">
						<input class="form-control" id="participantFee" name="Participant Fee" @if(!isEditable) {readonly}
						placeholder="Participant Fee" type="text" value="150">
					</div>
				</div>
				<div class="form-group">
					<label for="numberOfParticipants" class="col-lg-2 control-label">Number Of Participants</label>
					<div class="col-lg-6">
						<input class="form-control" id="numberOfParticipants" name="numberOfParticipants" readonly
						placeholder="Number Of Participants" type="text" value="@course.numberOfParticipants">
					</div>
				</div>
				<div class="form-group">
					<label for="maxNumberOfParticipants" class="col-lg-2 control-label">Max Number Of Participants</label>
					<div class="col-lg-6">
						<input class="form-control" id="maxNumberOfParticipants" name="maxNumberOfParticipants" @if(!isEditable) {readonly}
						placeholder="Max Number Of Participants" type="text" value="@course.maxNumberOfParticipants">
					</div>
				</div>
				<div class="form-group">
					<label for="language" class="col-lg-2 control-label">Language</label>
					<div class="col-lg-6">
						<input class="form-control" id="language" name="language" value="@course.language.languageName"
						placeholder="Language" type="text" @if(!isEditable) {readonly}>
					</div>
				</div>
					<div class="form-group">
						<label for="danceStyle" class="col-lg-2 control-label">Dance Style</label>
						<div class="col-lg-6">
							<input class="form-control" id="danceStyle" name="danceStyle" value="@course.danceStyle.danceStyleName"
							placeholder="danceStyle" type="text" @if(!isEditable) {readonly}>
						</div>
					</div>
				<div class="form-group">
					<label for="danceLevel" class="col-lg-2 control-label">Dance Level</label>
					<div class="col-lg-6">
						<input class="form-control" id="danceLevel" name="danceLevel" @if(!isEditable) {readonly}
						placeholder="Dance Level" type="text" value="@course.danceLevel">
					</div>
				</div>
				<div class="form-group">
					<label for="status" class="col-lg-2 control-label">Status of course</label>
					<div class="col-lg-6">
						<input class="form-control" id="status" name="status" @if(!isEditable) {readonly}
						placeholder="Status of course" type="text" value="@course.status">
					</div>
				</div>
					<div class="form-group">
						<label for="picture" class="col-lg-2 control-label">Picture</label>
						<div class="col-lg-6">
							<input class="form-control" id="picture" name="picture"
							placeholder="Insert image URL" type="text" onkeyup="onImageURLChange()" onchange="onImageURLChange()">
							<script>
					function onImageURLChange(){var urlInput = (document.getElementById('picture'));var imageInput = (document.getElementById('imgContainer')); imageInput.src=urlInput.value;}
				</script>
						</div>
					</div>
					<div class="form-group">
						<label class="col-lg-2 control-label"></label>
						<div class="col-lg-6">
							<img id="imgContainer" src="@routes.Assets.at("images/class.jpg")" height="300" width="530">
						</div>
					</div>
					<div class="form-group">
						<label for="video" class="col-lg-2 control-label">Video</label>
						<div class="col-lg-6">
							<input class="form-control" id="video" name="video"
							placeholder="Insert MP4 video URL" type="text" onkeyup="onVideoURLChange()" onchange="onVideoURLChange()">
							<script>
					function onVideoURLChange(){var videoUrlInput = (document.getElementById('video'));var videoInput = (document.getElementById('videoSource')); videoInput.src=videoUrlInput.value;}
				</script>
						</div>
					</div>
					<div class="form-group">
						<label for="video" class="col-lg-2 control-label"></label>
						<div class="col-lg-6">
							<video id="videoSource" width="530" controls>
								<source src="@routes.Assets.at("videos/video.mp4")" type="video/mp4">
							</video>
						</div>
					</div>

				</fieldset>
					<div class="col-lg-2"> </div>
					@if(isEditable == true){
						<a class="btn btn-primary" href="/teacher/@userName">Submit</a>
						<a class="btn btn-primary" href="/teacher/@userName">Cancel</a>
					}else{
						<button type="button"class="btn btn-primary" data-toggle="modal" data-target="#registrationBox">Register Temporary</button>
						<button type="button"class="btn btn-primary" data-toggle="modal" data-target="#registerAndPayBox">Register & Pay</button>
					}
				</form>
					<div class="modal fade" id="registrationBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
									<h4 class="modal-title" id="myModalLabel">Register Temporary</h4>
								</div>
								<form class="form-horizontal">
								<div class="modal-body">
									Please enter your details. A reservation can be made for 1 week and will be confirmed after successful payment.
											<fieldset>
												<div class="form-group" style="margin-top: 20px;">
													<input class="form-control" id="firstName" name="firstName"
													placeholder="First Name" type="text">
												</div>
												<div class="form-group" style="margin-top: 20px;">
													<input class="form-control" id="lastName" name="lastName"
													placeholder="Last Name" type="text">
												</div>
												<div class="form-group" style="margin-top: 20px;">
													<input class="form-control" id="email" name="email"
													placeholder="E-mail" type="text">
												</div>
												<div class="form-group" style="margin-top: 20px;">
													<textarea class="form-control" rows="3" name="questions" id="questions" placeholder="Questions or Remarks?"></textarea>
												</div>
											</fieldset>
									</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-primary" data-dismiss="modal">Go Back</button>
									<button type="button" class="btn btn-primary" data-dismiss="modal">Register</button>
								</div>
								</form>
							</div>
						</div>
					</div>


					<div class="modal fade" id="registerAndPayBox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
									<h4 class="modal-title" id="myModalLabel">Register & Pay</h4>
								</div>
								<form class="form-horizontal" action="/course/payment/" method="post">
									<div class="modal-body">
										Please enter your details.
										<fieldset>
											<div class="form-group" style="margin-top: 20px;">

												<input class="form-control" id="firstName" name="firstName"
												placeholder="First Name" type="text">

											</div>
											<div class="form-group" style="margin-top: 20px;">

												<input class="form-control" id="lastName" name="lastName"
												placeholder="Last Name" type="text">

											</div>
											<div class="form-group" style="margin-top: 20px;">
												<input class="form-control" id="email" name="email"
												placeholder="E-mail" type="text">
											</div>
											Please select the payment method you would like to use:
											<div class="form-group">
												<div class="col-lg-10">
													<div class="radio">
														<label>
															<input name="optionsRadios" id="optionsRadios1" value="option1" checked="" type="radio">
															Credit card
														</label>
													</div>
													<div class="radio">
														<label>
															<input name="optionsRadios" id="optionsRadios2" value="option2" type="radio">
															Paypal
														</label>
													</div>
													<div class="radio">
														<label>
															<input name="optionsRadios" id="optionsRadios2" value="option2" type="radio">
															SofortUberweisung.de
														</label>
													</div>
												</div>
											</div>
											<div class="form-group" style="margin-top: 20px;">
												<textarea class="form-control" rows="3" name="questions" id="questions" placeholder="Questions or Remarks?"></textarea>
											</div>
										</fieldset>
									</div>
									<div class="modal-footer">
										<button type="button" class="btn btn-primary" data-dismiss="modal">Go Back</button>
										<button type="submit" class="btn btn-primary">Proceed</button>
									</div>
								</form>
							</div>
						</div>
					</div>
			</div>
		</div>
}